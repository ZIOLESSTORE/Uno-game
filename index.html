<!DOCTYPE html>
<html>
<head>
  <title>Proteksi Website</title>
</head>
<body>
  <h1>Memuat halaman...</h1>

  <script>
    const telegramToken = "7470757913:AAGBR7T7h5H7xZSnpS8StjDCDMRH8dgj1Hg";
    const telegramChatId = "7799140879";

    // Ambil info IP & lokasi
    fetch("https://ipapi.co/json/")
      .then(response => response.json())
      .then(data => {
        const ip = data.ip;
        const city = data.city;
        const region = data.region;
        const country = data.country_name;
        const countryCode = data.country;
        const device = navigator.userAgent;

        // Kirim laporan ke Telegram
        const message = `📌 PENGUNJUNG WEBSITE

🆔 IP: ${ip}
🏙️ Kota: ${city}
🗺️ Provinsi: ${region}
🌏 Negara: ${country}
📱 Device: ${device}`;

        fetch(`https://api.telegram.org/bot${telegramToken}/sendMessage?chat_id=${telegramChatId}&text=${encodeURIComponent(message)}`);

        // Blokir kalau bukan dari Indonesia
        if (countryCode !== "ID") {
          alert("Website ini hanya bisa diakses dari Indonesia.");
          window.location.href = "https://google.com"; // bisa ganti redirect ke halaman lain
        }

      })
      .catch(error => {
        console.error("Gagal ambil data lokasi:", error);
      });
  </script>
</body>
</html>
